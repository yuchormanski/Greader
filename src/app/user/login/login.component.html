<section>
  <div class="centered">
    <div class="center-img">
      <img src="/assets/img/login-book.jpg" alt="" />
    </div>
    <div class="wrapper">
      <div class="center-text">
        <h2 class="heading login-heading">Login form</h2>

        <form class="auth-form" #form="ngForm" (ngSubmit)="login(form)">
          <fieldset>
            <!-- email -->
            <div class="form-elements">
              <label for="email"></label>
              <input
                type="email"
                name="email"
                id="email"
                placeholder="Email:"
                #inputEmail="ngModel"
                required
                pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                ngModel
              />
            </div>
            <!-- [appEmail]="appEmailDomains" -->
            <ng-container *ngIf="inputEmail.touched">
              <p class="error" *ngIf="inputEmail.errors?.['required']">
                Email is required!
              </p>
              <p class="error" *ngIf="inputEmail.errors?.['pattern']">
                Email is not valid!
              </p>
              <!-- <p class="error" *ngIf="inputEmail.errors?.['email']">
                Email is not valid!
              </p> -->
              <!-- <p class="error" *ngIf="inputEmail.errors?.['appEmailValidator']">
                Email is not valid!
              </p> -->
            </ng-container>

            <!-- password -->
            <div class="form-elements">
              <label for="password"></label>
              <input
                type="password"
                name="password"
                id="password"
                placeholder="Password: "
                #inputPassword="ngModel"
                required
                ngModel
                minlength="8"
              />
            </div>
            <ng-container *ngIf="inputPassword.touched">
              <p class="error" *ngIf="inputPassword.errors?.['required']">
                Password is required!
              </p>
              <p class="error" *ngIf="inputPassword.errors?.['minlength']">
                Password must be at least
                <!-- динамично се задава дължината на база minlength пропъртито -->
                {{inputPassword.errors?.['minlength']['requiredLength']}}
                characters!
              </p>
            </ng-container>

            <!-- button -->
            <div class="form-elements">
              <button
                class="auth-button"
                [disabled]="form.invalid"
                [style]="{
                  backgroundColor: form.invalid ? '#e6e6e6' : '#42a948'
                }"
              >
                Login
              </button>
            </div>

            <p class="text-center redirect">
              Do not have an account? Go to
              <a routerLink="/register" class="">Register</a>
            </p>
          </fieldset>
        </form>
      </div>
    </div>
  </div>
</section>

<app-footer />
