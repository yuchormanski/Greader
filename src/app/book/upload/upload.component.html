<section>
  <div class="centered">
    <div class="center-img">
      <img src="/assets/img/share-book.jpg" alt="" />
    </div>
    <div class="upload-wrapper">
      <div class="center-text">
        <h2 class="heading create-heading">
          Lorem ipsum dolor sit amet consecteturasdfasdfsad.
        </h2>

        <!-- book upload -->
        <ng-container *ngIf="nextStep; else bookInfo">
          <!-- <ng-container *ngIf="!nextStep; else bookInfo"> -->
          <div
            app-event-blocker
            (dragend)="isDragover = false"
            (dragover)="isDragover = true"
            (dragenter)="isDragover = true"
            (dragleave)="isDragover = false"
            (mouseleave)="isDragover = false"
            (drop)="storeFile($event)"
            [ngClass]="{ 'drop-zone-hover': isDragover }"
            class="drop-zone"
          >
            <p>Drag a file to this <i>drop zone</i>.</p>
            <p>
              Available types - EPUB, PDF, TXT with maximum file size - 5 MB
            </p>
          </div>
          <input type="file" class="" (change)="storeFile($event)" />
        </ng-container>

        <!-- book-info -->
        <ng-template #bookInfo>
          <div [ngClass]="alertColor">
            <!-- <div *ngIf="showAlert" [ngClass]="alertColor"> -->
            <p>
              {{ alertMsg }}
            </p>
            <p *ngIf="showPercentage">{{ percentage | percent }}</p>
          </div>
          <div>
            <form [formGroup]="uploadForm" (ngSubmit)="uploadBook()">
              <div class="form-row book-title">
                <!-- book-title -->
                <label for="title"></label>
                <input
                  formControlName="title"
                  type="text"
                  id="title"
                  name="title"
                  placeholder="Book title:"
                /><span class="required">*</span>
              </div>

              <!-- book-author book-image-->
              <div class="form-row additional">
                <label for=""></label>
                <input
                  type="text"
                  placeholder="Author:"
                  formControlName="author"
                /><span class="required">*</span>
                <label for=""></label>
                <input
                  type="text"
                  formControlName="imgUrl"
                  placeholder="Book image URL:"
                /><span class="required">*</span>
              </div>

              <!-- book-language book-year-->
              <div class="form-row additional">
                <select value="Language:" formControlName="language">
                  <option value="" disabled selected hidden>Language:</option>
                  <option value="bg">Bulgarian</option>
                  <option value="en">English</option>
                  <option value="de">German</option></select
                ><span class="required">*</span>
                <!-- <label for=""></label>
                <input
                  type="text"
                  placeholder="Language:"
                  formControlName="language"
                /> -->
                <label for=""></label>
                <input
                  type="number"
                  placeholder="Year:"
                  formControlName="year"
                /><span class="required">*</span>
              </div>

              <!-- book-description-->
              <div class="form-row additional">
                <textarea
                  name=""
                  cols="66"
                  rows="10"
                  placeholder="Description: "
                  formControlName="description"
                ></textarea>
              </div>

              <!-- form submit -->
              <button
                class="upload-book-Btn"
                [disabled]="uploadForm.invalid"
                [disabled]="inSubmission"
                [style]="{
                  backgroundColor: uploadForm.invalid ? '#e6e6e6' : '#019d01'
                }"
              >
                Upload
              </button>
            </form>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</section>

<app-footer />
